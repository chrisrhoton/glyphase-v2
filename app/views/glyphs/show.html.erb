<% provide(:title, @glyph.title) %>
<section class="glyphHeader-image"></section>

<section class="glyphSidebar">
  <div class="glyphSidebar-location">
    <div id="map-canvas" class="single">
      <div class="spinner small-top-padding">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
      </div>
    </div>
  </div>
</section>

<section class="glyphInfo">
  <header class="glyphInfo-text">
    <h2 class="glyphInfo-textTitle"><%= @glyph.title %></h2>
    <span class="glyphInfo-textCreator">by <%= @glyph.user.username %></span>
  </header>
  <h3 class="glyphInfo-heading"><%= @glyph.tagline %></h3>
  <div class="glyphInfo-content">
    <p><%= @glyph.content %></p>
    <%= image_tag @glyph.image_attachment.url if @glyph.image_attachment? %>
  </div>

  <section class="glyphComments">
    <h4 class="glyphComments-title">Comments</h4>
    <ul class="glyphComments-list">   
      <% if @glyph.comments.any? %>
        <%= render @glyph.comments %>
      <% end %>
    </ul>

    <!-- Pre-add State -->
    <section class="glyphComments-add">
      <span class="action-primary" id="addComment">Add a Comment</span>
    </section>

    <!-- Add State -->
    <section class="glyphComments-adding">
      <h4 class="glyphComments-addPrompt">Adding Comment</h4>
      <%= render "comment_form" %>
    </section>

  </section>

</section>

<script>
  $(document).ready(function() {
      Glyphbase.Maps.initialize();
  });
</script>