<%= form_for(@glyph, html: { multipart: true }, role: "form") do |f| %>
  <%= f.hidden_field :latitude, value: 0.0 %>
  <%= f.hidden_field :longitude, value: 0.0 %>
<section class="glyphInfo create">
  <%= render 'shared/error_messages', object: f.object %>
  <header class="glyphInfo-text">
    <%= f.text_field :title, class: "input-text--large", placeholder: "Glyph Title", required: true %>
  </header>
</section>

<section class="glyphContent">
  <span class="action-primary addHeader">Add Header Image</span>
  <label class="input-label">Glyph Information</label>
  <%= f.text_field :tagline, class: "input-text", placeholder: "What's the best part about this spot?", required: true %>
  <%= f.text_area :content, class: "input-textbox", placeholder: "Give some details and things you think are important. You can also add photos and video.", required: true %>
  <section class="input-textboxActions">
    <div class="input-textboxAction--photo">
      <div class="fileButtonWrapper">
        <%= f.file_field :image_attachment, accept: 'image/png,image/gif,image/jpeg' %>
      </div>
    </div>
    <i class="input-textboxAction--video"></i>
  </section>

  <select class="input-dropdown">
    <option value="Blah">Everyone</option>
    <option value="Okay">Friends</option>
  </select>
  <span class="glyphInfo-dropdownText">can see this.</span>
  <section class="action">
    <span class="action-secondary" id="cancelComment">Cancel</span>
    <%= f.submit class: "action-primary" %>
  </section>

</section>
<% end %>

<script type="text/javascript">
  $('#glyph_image_attachment').bind('change', function() {
    size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
    if(this.files[0]) {
      $(this).closest('.input-textboxAction--photo').addClass('has-file');
      $("#glyph_image_attachment").prop('disabled', true);
    }
  });
</script>